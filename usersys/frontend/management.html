<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/styles.css">
    <title>Registro de Usuários</title>
</head>
<body id="management-page">
<div class="video-background">
    <video autoplay loop muted playsinline>
        <source src="assets/videos/tecnologia.mp4" type="video/mp4">
        Seu navegador não suporta o elemento de vídeo.
    </video>
</div>

<header>
    <div class="center">
        <div class="logo">
            <img src="assets/img/cicada-logo.png" alt="Logo"/>
        </div>
        <h1 class="page-title">Registro de Usuários</h1>
        <div class="menu">
            <a href="index.html" class="home-button">
                <img src="assets/img/home-icon.png" alt="Página inicial" style="width: 40px;">
            </a>
        </div>
        
    </div>
</header>
<!-- Aqui é  a barra de pesquisa -->
<section class="search-filter">
    <label for="search-option">Buscar usuários:</label>
    <select id="search-option">
        <option value="id">Por ID</option>
        <option value="cpf">Por CPF</option>
        <option value="email">Por e-mail</option>
    </select>
    <input type="text" id="search-input" placeholder="Digite aqui">
    <button onclick="searchUser()">Buscar</button>
</section>

<div id="addUserButtonContainer">
    <button onclick="redirectToRegistration()">
        <img src="assets/img/add-user.png" alt="Adicionar Usuário" style="width: 30px;">
        Adicionar Usuário
    </button>
</div>


<!-- Aqui mostra o resultado da busca -->
<div id="search-result"></div>


<!-- Aqui mostra o formulário de edição -->
<div id="editFormContainer" style="display: none;">
    <h2>Editar Usuário</h2>
    <form id="formedit">
        <input type="hidden" id="edit-id">
        <div class="form-group">
            <label for="edit-name">Nome</label>
            <input type="text" id="edit-name" class="form-control" required pattern="[A-Za-z\s]" maxlength="50" title="Apenas letras, nada de caracteres especiais ou números">
        </div>
        <div class="form-group">
            <label for="edit-surname">Sobrenome</label>
            <input type="text" id="edit-surname" class="form-control" required pattern="[A-Za-z\s]+" maxlength="50" title="Apenas letras, nada de números ou cacarateres especiais">
        </div>
        <div class="form-group">
            <label for="edit-birth-date">Data de Nascimento</label>
            <input type="text" id="edit-birth-date" class="form-control">
        </div>
        <div class="form-group">
            <label for="edit-cpf">CPF</label>
            <input type="text" id="edit-cpf" class="form-control" required pattern="\d{11}" maxlength="11" title="Apenas 11 números, nada de letras ou caracteres especiais">
        </div>
        <div class="form-group">
            <label for="edit-gender">Gênero</label>
            <select id="edit-gender" class="form-control">
                <option value="M">Masculino</option>
                <option value="F">Feminino</option>
                <option value="O">Outro</option>
            </select>
        </div>
        <div class="form-group">
            <label for="edit-phone">Número de Celular</label>
            <input type="text" id="edit-phone" class="form-control" required pattern="\d+" maxlength="15" title="Apenas números são permitidos">
        </div>
        <div class="form-group">
            <label for="edit-email">E-mail</label>
            <input type="email" id="edit-email" class="form-control">
        </div>
        <div class="form-group">
            <label for="edit-password">Senha</label>
            <div style="display: flex; align-items: center;">
                <input type="password" id="edit-password" class="form-control" required minlength="4" maxlength="16" title="A senha deve ter no mínimo 6 caracteres e no máximo 16">
                <button type="button" class="toggle-password-btn" onclick="togglePasswordVisibility('edit-password')">
                    <img src="assets/img/eye-icon.png" alt="Mostrar Senha" style="width: 45px;">
                </button>
            </div>
        </div>
        <div class="form-actions">
            <button type="button" class="btn btn-primary" onclick="updateUser()">Salvar Alterações</button>
            <button type="button" class="btn btn-secondary" onclick="closeEditForm()">Cancelar</button>
        </div>
    </form>
</div>


<table>
    <thead>
    </thead>
    <tbody id="users"></tbody>
</table>

<script src="assets/scripts/script_management.js"></script>
<script src="assets/scripts/script_registration.js"></script>
</body>
</html>
